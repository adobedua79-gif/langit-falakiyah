<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Langit Falakiyah 4D âœ¦ Al-Hikmah v2.8b Auratik Balance</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:wght@500;700&display=swap" rel="stylesheet">

<style>
html,body{
  margin:0;padding:0;overflow:hidden;height:100%;
  background:radial-gradient(circle at center,#0a1025 0%,#000010 100%);
  color:#f0e6b2;font-family:'Cormorant Garamond',serif;
}
canvas{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;}
#intro,#main{
  position:absolute;top:0;left:0;width:100%;height:100%;
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  text-align:center;color:#f0e6b2;transition:opacity 2s ease-in-out;z-index:2;
}
h1{
  font-family:'Cinzel Decorative',serif;
  font-size:1.7em;text-shadow:0 0 12px #e8c85a,0 0 22px #b5962b;margin-bottom:0.3em;
}
h2{font-size:1.05em;color:#f7e9b4;margin-top:0;text-shadow:0 0 10px #bfa84e;}
.quoteBox{position:relative;height:110px;margin-top:12px;overflow:hidden;max-width:350px;}
.quote{
  width:100%;opacity:0;transform:translateY(20px);
  transition:opacity 2s ease,transform 2s ease;
  font-size:0.9em;font-style:italic;line-height:1.45;
  color:#fff7d6;text-shadow:0 0 6px #c7a64f;
}
.quote.active{opacity:1;transform:translateY(0);}
button{
  font-family:'Cormorant Garamond',serif;background:rgba(255,255,255,0.05);
  border:1px solid #d8c471;border-radius:10px;color:#f5e8b8;
  padding:8px 16px;margin:6px;font-size:1em;backdrop-filter:blur(3px);
  transition:all 0.3s;
}
button:hover{background:rgba(255,255,255,0.1);transform:scale(1.05);box-shadow:0 0 15px #bfa84e;}
#audioBtn{
  position:fixed;top:15px;right:15px;background:rgba(255,255,255,0.1);
  border:1px solid gold;border-radius:50%;width:40px;height:40px;font-size:20px;
  color:gold;cursor:pointer;text-shadow:0 0 10px gold;
  display:flex;align-items:center;justify-content:center;z-index:3;
}
.author,footer{
  opacity:0;animation:fadeUp 3s ease forwards;animation-delay:2s;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
.author{margin-top:10px;font-size:0.85em;color:#d3b96f;}
footer{position:absolute;bottom:8px;right:15px;font-size:0.75em;color:#d3b96f;font-family:'Cinzel Decorative',serif;}
#timeInfo{margin-top:85px;font-size:1.05em;color:#f5e9c1;text-shadow:0 0 6px #bfa84e;}
#introFooter{
  margin-top:10px;font-size:0.75em;font-family:'Cinzel Decorative',serif;
  color:#e7d48a;text-shadow:0 0 6px #bfa84e;opacity:0.9;
}
/* âœ¦ Kutipan pembuka âœ¦ */
#introQuote{
  max-width:360px;margin-top:15px;font-size:1em;font-style:italic;
  line-height:1.5;color:#f8e8c6;text-shadow:0 0 8px #c8ad5a;
  opacity:0;animation:fadeInQuote 3s ease forwards;animation-delay:0.5s;
}
@keyframes fadeInQuote{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}
</style>
</head>
<body>

<canvas id="universe"></canvas>

<!-- ğŸŒ™ HALAMAN PEMBUKA -->
<div id="intro">
  <h1>Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ’Ù…Ù</h1>
  <p id="introQuote">â€œLangit dan waktu adalah rahasia perjalanan ruh di bawah ketetapan-Nya.â€</p>
  <button onclick="startMain()">Masuk ke Langit Falakiyah</button>
  <div id="introFooter">Â© Endry Arya 2025</div>
</div>

<!-- ğŸŒŒ HALAMAN UTAMA -->
<div id="main" style="opacity:0;pointer-events:none;">
  <h1 style="margin-top:-20px;">Perhitungan Falaqiyah Al-Hikmah</h1>
  <h2>Ø³Ø± Ø§Ù„ÙˆÙ‚Øª â€” Rahasia Waktu</h2>

  <div class="quoteBox" id="quoteBox">
    <div class="quote active" id="quoteText">
      â€œHari-hari dalam sepekan berada di bawah kekuasaan planet-planet; tiap hari memiliki tabiat serta pengaruhnya masing-masing.â€<br>
      <small>â€” <i>Shams al-Maâ€˜Ärif</i>, Bab <i>SÄâ€˜Ät al-KawÄkib</i></small>
    </div>
  </div>

  <div id="timeInfo">
    ğŸŒ Penguasa Hari: <span id="hari"></span><br>
    â³ Planet Jam Aktif: <span id="planet"></span><br>
    ğŸ•’ <span id="jam"></span><br>
    â˜€ Pergantian Penguasa Hari setelah matahari terbit
  </div>

  <div style="margin-top:10px;">
    <button>ğŸ•¯ Saâ€™at Amal</button>
    <button>ğŸŒ  Waktu Mustajab</button>
    <button>ğŸ•Š Doâ€™a & Niat</button>
    <button>ğŸ“œ Info Falakiyah</button>
  </div>

  <div class="author">Diprakarsai oleh : Endry Arya</div>
  <footer>Â© 2025</footer>
</div>

<!-- ğŸ”Š MUSIK -->
<div id="audioBtn">ğŸ”Š</div>
<audio id="music" autoplay loop>
  <source src="https://cdn.pixabay.com/download/audio/2023/03/13/audio_272e74d47a.mp3?filename=arabic-background-music-141121.mp3" type="audio/mpeg">
</audio>

<script>
const music=document.getElementById("music");
document.getElementById("audioBtn").onclick=()=>{music.paused?music.play():music.pause();};

function startMain(){
  document.getElementById('intro').style.opacity='0';
  setTimeout(()=>{
    document.getElementById('intro').style.display='none';
    const main=document.getElementById('main');
    main.style.opacity='1';
    main.style.pointerEvents='auto';
    showPlanets=true;
    setTimeout(initQuotes,2000);
  },1500);
}

// ğŸŒ  Kutipan berganti
let starFade=1,auraPulse=0;
function initQuotes(){
  const el=document.getElementById('quoteText');
  const quotes=[
    "â€œHari-hari dalam sepekan berada di bawah kekuasaan planet-planet; tiap hari memiliki tabiat serta pengaruhnya masing-masing.â€<br><small>â€” <i>Shams al-Maâ€˜Ärif</i></small>",
    "â€œSetiap jam memiliki planet yang berkuasa padanya; maka lakukanlah amal pada waktu planetnya, niscaya engkau memperoleh keberkahannya.â€<br><small>â€” <i>Shams al-Maâ€˜Ärif</i></small>"
  ];
  let i=0;
  setInterval(()=>{
    el.classList.remove('active');
    setTimeout(()=>{
      i=(i+1)%quotes.length;
      el.innerHTML=quotes[i];
      el.classList.add('active');
    },1000);
  },12000);
}

// ğŸŒ Hitung sunrise berdasarkan lokasi nyata
let sunriseTime="06:00";
if(navigator.geolocation){
  navigator.geolocation.getCurrentPosition(pos=>{
    const lat=pos.coords.latitude,lon=pos.coords.longitude;
    sunriseTime=getSunrise(lat,lon);
  });
}

function getSunrise(lat,lon){
  const now=new Date();const rad=Math.PI/180;
  const day=now.getUTCDate(),month=now.getUTCMonth()+1,year=now.getUTCFullYear();
  const N1=Math.floor(275*month/9);
  const N2=Math.floor((month+9)/12);
  const N3=(1+Math.floor((year-4*Math.floor(year/4)+2)/3));
  const n=N1-(N2*N3)+day-30;
  const lngHour=lon/15;
  const t=n+((6-lngHour)/24);
  const M=(0.9856*t)-3.289;
  const L=(M+1.916*Math.sin(M*rad)+0.020*Math.sin(2*M*rad)+282.634)%360;
  const RA=(Math.atan(0.91764*Math.tan(L*rad))/rad)%360;
  const Lq=Math.floor(L/90)*90,RAq=Math.floor(RA/90)*90;
  const RAdeg=(RA+Lq-RAq)/15;
  const sinDec=0.39782*Math.sin(L*rad);
  const cosDec=Math.cos(Math.asin(sinDec));
  const cosH=(Math.cos(90.833*rad)-(sinDec*Math.sin(lat*rad)))/(cosDec*Math.cos(lat*rad));
  let H=360-(Math.acos(cosH)/rad);H/=15;
  const T=H+RAdeg-(0.06571*t)-6.622;
  let UT=(T-lngHour)%24;if(UT<0)UT+=24;
  const localTime=new Date(now.getTime()+now.getTimezoneOffset()*60000+UT*3600000);
  return localTime.toTimeString().slice(0,5);
}

// ğŸŒ  Falak waktu real sunrise
const planetHari=["Syams","Qamar","MarÄ«kh","UtÄrid","MusytarÄ«","Zuhrah","Zuhal"];
function getPenguasaHari(){
  const now=new Date();
  const h=now.getHours(),m=now.getMinutes();
  const sh=parseInt(sunriseTime.split(":")[0]);
  const sm=parseInt(sunriseTime.split(":")[1]);
  let afterSunrise=(h>sh)||(h===sh&&m>=sm);
  let idx=(now.getDay()+6)%7;if(afterSunrise)idx=(idx+1)%7;
  return planetHari[idx];
}

const hariElem=document.getElementById('hari');
const planetElem=document.getElementById('planet');
const jamElem=document.getElementById('jam');
const planetOrder=["Qamar","UtÄrid","Zuhrah","Syams","MarÄ«kh","MusytarÄ«","Zuhal"];
function updateTime(){
  const d=new Date();
  hariElem.textContent=getPenguasaHari();
  planetElem.textContent=planetOrder[d.getHours()%7];
  jamElem.textContent=d.toLocaleTimeString('id-ID',{hour12:false});
}
setInterval(updateTime,1000);

// ğŸŒŒ Langit Falakiyah 4D
const canvas=document.getElementById("universe"),ctx=canvas.getContext("2d");
canvas.width=innerWidth;canvas.height=innerHeight;
function makeStar(){return{x:(Math.random()*2-1)*canvas.width,y:(Math.random()*2-1)*canvas.height,z:Math.random()*canvas.width};}
const stars=Array(1200).fill().map(makeStar);
let showPlanets=false;
const planets=[
  {name:"â˜‰ Syams",r:30,orbit:0,dist:0,color:"#FFD86C",speed:0.000},
  {name:"â˜¿ UtÄrid",r:14,orbit:90,dist:140,color:"#A68E74",speed:0.00017},
  {name:"â™€ Zuhrah",r:20,orbit:120,dist:190,color:"#E8B888",speed:0.00014},
  {name:"â˜¾ Qamar",r:16,orbit:230,dist:250,color:"#CDE3F3",speed:0.00012},
  {name:"â™‚ MarÄ«kh",r:25,orbit:310,dist:320,color:"#D67045",speed:0.0001},
  {name:"â™ƒ MusytarÄ«",r:40,orbit:400,dist:400,color:"#E8CDA2",speed:0.00009},
  {name:"â™„ Zuhal",r:36,orbit:480,dist:470,color:"#C5BA9D",speed:0.00008}
];
function drawPlanet(p,cx,cy,t){
  let x=cx+(p.dist>0?Math.cos(t*p.speed+p.orbit)*p.dist:0);
  let y=cy+(p.dist>0?Math.sin(t*p.speed+p.orbit)*p.dist:0);
  let bright=1+(Math.sin(t*0.001+auraPulse)*0.2);
  let grad=ctx.createRadialGradient(x,y,p.r*0.1,x,y,p.r);
  grad.addColorStop(0,"#fff");grad.addColorStop(0.3,p.color);
  grad.addColorStop(1,`rgba(0,0,0,${0.8*bright})`);
  ctx.beginPath();ctx.fillStyle=grad;ctx.arc(x,y,p.r,0,Math.PI*2);ctx.fill();
  ctx.beginPath();ctx.strokeStyle=`rgba(255,215,130,0.08)`;ctx.arc(cx,cy,p.dist,0,Math.PI*2);ctx.stroke();
  ctx.font="15px 'Cormorant Garamond'";ctx.fillStyle="gold";ctx.textAlign="center";
  ctx.fillText(p.name,x,y-p.r-8);
}
function animate(t){
  ctx.fillStyle="rgba(8,12,28,0.9)";ctx.fillRect(0,0,canvas.width,canvas.height);
  auraPulse+=0.02;
  stars.forEach(s=>{
    s.z-=1.5;if(s.z<=0){Object.assign(s,makeStar());s.z=canvas.width;}
    const k=200/s.z,px=s.x*k+canvas.width/2,py=s.y*k+canvas.height/2;
    if(px>=0&&px<canvas.width&&py>=0&&py<canvas.height){
      const size=(1-k/5);
      ctx.fillStyle=`rgba(255,255,230,${0.8*starFade*(0.9+0.1*Math.sin(auraPulse))})`;
      ctx.fillRect(px,py,size,size);
    }
  });
  const cx=canvas.width/2,cy=canvas.height/2;
  if(showPlanets)planets.forEach(p=>drawPlanet(p,cx,cy,t));
  requestAnimationFrame(animate);
}
animate(0);
</script>
</body>
</html>